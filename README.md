# TOOL  
log计划：  
713:
buffer已经完成：做成双链表，head存储持久化信息，data存储实际日志内容，节点本身可以将内容写入文件中  
log：写：每次先访问head观察状态，可写才进行写操作，利用buffer本身的写功能进行写操作 考虑head中偏移信息和文件位置  
追加：向product节点追加数据 利用format进行格式化数据 每次追加即可  

计划：实现子线程持久化逻辑 完善接口和工具宏 完成测试功能


714:  
完成：
完善了生产者和消费者逻辑以及持久化逻辑，完成了工具宏的封装，通过了编译无明显bug，未完成接口的测试   
  
问题：freelockqueue存在bug：1.大量任务环境以及多线程环境下会有segmention 2.死锁  segment在偶然情况下有 任务数量超过100000时大概率下死锁

计划：明天完成所有功能测试并且改进逻辑 完成多线程下的读写测试

715:
完成：  
修复freelockqueue死锁行为 大量任务偶然情况下仍然有segment，猜测：队列空情况时函数行为badalloc  
完善log逻辑 仍然存在问题：可变参数部分参数未能正确写入，开头leek造成大量无效字符  

计划：  
完成log和freelockqueue的bug修复
